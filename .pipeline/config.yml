steps:
  detectExecuteScan:
    projectName: 'SHC - CLOUD SDK'
    groups:
      - 'CLOUD SDK 4.0'
    serverUrl: 'https://sap.blackducksoftware.com/'
    mavenExcludedScopes: ["provided", "test"]
    failOn: ['BLOCKER', 'CRITICAL', 'MAJOR']
    versioningModel: "major"
    scanProperties:
      # --detect.maven.excluded.modules=s4hana-all,s4hana-api-odata,s4hana-api-odata-onpremise,s4hana-api-odata-v4,s4hana-api-odata-v4-onpremise,s4hana-api-parent,end-to-end-tests,performance-tests,tests-parent,unit-tests,vdm-integration-tests,testutil-core,testutil-parent
      - --detect.maven.excluded.modules=tests-parent,testutil-core,testutil-parent
      # - --detect.maven.build.command="'-pl !:s4hana-all,!:s4hana-api-odata,!:s4hana-api-odata-onpremise,!:s4hana-api-odata-v4,!:s4hana-api-odata-v4-onpremise,!:s4hana-api-parent,!:end-to-end-tests,!:performance-tests,!:tests-parent,!:unit-tests,!:vdm-integration-tests,!:testutil-core,!:testutil-parent'"
      - --detect.maven.build.command="'-pl !:tests-parent,!:testutil-core,!:testutil-parent'"
      - --detect.timeout=7200
      - --blackduck.trust.cert=true
      - --blackduck.signature.scanner.memory=4096

stages:
  codeCheck:
    checkstyle:
      high: '0'
      normal: '-1'
      low: '-1'
    findbugs:
      high: '0'
      normal: '-1'
      low: '-1'
    pmd:
      high: '0'
      normal: '-1'
      low: '-1'
