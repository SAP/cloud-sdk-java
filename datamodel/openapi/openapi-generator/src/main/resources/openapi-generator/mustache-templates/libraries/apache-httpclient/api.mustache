{{>licenseInfo}}
package {{package}};

import com.fasterxml.jackson.core.type.TypeReference;

import com.sap.cloud.sdk.services.openapi.core.OpenApiRequestException;
import {{invokerPackage}}.ApiClient;
import {{invokerPackage}}.BaseApi;
{{#models.0}}
    import {{modelPackage}}.*;
{{/models.0}}
import {{invokerPackage}}.Pair;

{{#imports}}import {{import}};
{{/imports}}


import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.StringJoiner;

import javax.annotation.Nonnull;
import javax.annotation.Nullable;
import com.google.common.annotations.Beta;

{{^aiSdkConstructor}}import com.sap.cloud.sdk.cloudplatform.connectivity.Destination;
{{/aiSdkConstructor}}
{{#aiSdkConstructor}}import com.sap.ai.sdk.core.AiCoreService;
{{/aiSdkConstructor}}

{{#useBeanValidation}}
    import {{javaxPackage}}.validation.constraints.*;
    import {{javaxPackage}}.validation.Valid;

{{/useBeanValidation}}

/**
* {{appName}} in version {{version}}.
*
* {{#appDescription}}{{{appDescription}}}{{/appDescription}}{{^appDescription}}No description provided.{{/appDescription}}
*/
{{!>generatedAnnotation}}
{{^isReleased}}@Beta{{/isReleased}}
{{#operations}}
public class {{classname}} extends BaseApi {

    {{^aiSdkConstructor}}
    /**
    * Instantiates this API class to invoke operations on the {{appName}}
    */
    public {{classname}}() {
    }

    /**
    * Instantiates this API class to invoke operations on the {{appName}}.
    *
    * @param httpDestination The destination that API should be used with
    */
    public {{classname}}( @Nonnull final Destination httpDestination )
    {
    super(httpDestination);
    }

    /**
    * Instantiates this API class to invoke operations on the {{appName}} based on a given {@link ApiClient}.
    *
    * @param apiClient
    *            ApiClient to invoke the API on
    */
    @Beta
    public {{classname}}(@Nonnull final ApiClient apiClient) {
    super(apiClient);
    }
    {{/aiSdkConstructor}}
    {{#aiSdkConstructor}}
    /**
    * Instantiates this API class to invoke operations on the {{appName}}
    */
    public {{classname}}()
    {
    super(new AiCoreService().getApiClient());
    }

    /**
    * Instantiates this API class to invoke operations on the {{appName}}
    *
    * @param aiCoreService The configured connectivity instance to AI Core
    */
    public {{classname}}( @Nonnull final AiCoreService aiCoreService )
    {
    super(aiCoreService.getApiClient());
    }
    {{/aiSdkConstructor}}

    {{#operation}}
        /**
        * {{summary}}
        * {{notes}}
        {{#allParams}}
            * @param {{paramName}} {{description}}{{#required}} (required){{/required}}{{^required}} (optional{{^isContainer}}{{#defaultValue}}, default to {{.}}{{/defaultValue}}{{/isContainer}}){{/required}}
        {{/allParams}}
        {{#returnType}}
            * @return {{returnType}}
        {{/returnType}}
        * @throws OpenApiRequestException if fails to make API call
        {{#isDeprecated}}
            * @deprecated
        {{/isDeprecated}}
        {{#externalDocs}}
            * {{description}}
            * @see <a href="{{url}}">{{summary}} Documentation</a>
        {{/externalDocs}}
        */
        {{#isDeprecated}}
            @Deprecated
        {{/isDeprecated}}
        {{#vendorExtensions.x-return-nullable}}@Nullable{{/vendorExtensions.x-return-nullable}}{{^vendorExtensions.x-return-nullable}}@Nonnull{{/vendorExtensions.x-return-nullable}}
        public {{#returnType}}{{{returnType}}} {{/returnType}}{{^returnType}}void {{/returnType}}{{operationId}}({{#allParams}}{{>nullable_var_annotations}} final {{{dataType}}} {{paramName}}{{^-last}}, {{/-last}}{{/allParams}}) throws OpenApiRequestException {
        Object localVarPostBody = {{#bodyParam}}{{paramName}}{{/bodyParam}}{{^bodyParam}}null{{/bodyParam}};
        {{#allParams}}{{#required}}
            // verify the required parameter '{{paramName}}' is set
            if ({{paramName}} == null) {
            throw new OpenApiRequestException("Missing the required parameter '{{paramName}}' when calling {{operationId}}")
                .statusCode(400);
            }
        {{/required}}{{/allParams}}
        // create path and map variables
        String localVarPath = "{{{path}}}"{{#pathParams}}
            .replaceAll("\\{" + "{{baseName}}" + "\\}", ApiClient.escapeString(ApiClient.parameterToString({{{paramName}}}))){{/pathParams}};

        StringJoiner localVarQueryStringJoiner = new StringJoiner("&");
        String localVarQueryParameterBaseName;
        List<Pair> localVarQueryParams = new ArrayList<Pair>();
            List<Pair> localVarCollectionQueryParams = new ArrayList<Pair>();
            Map<String, String> localVarHeaderParams = new HashMap<String, String>();
            Map<String, Object> localVarFormParams = new HashMap<String, Object>();

        {{#queryParams}}
            {{#isDeepObject}}
                    localVarQueryParameterBaseName = "{{{baseName}}}";
                {{#isArray}}
                        for (int i=0; i < {{paramName}}.size(); i++) {
                        localVarQueryStringJoiner.add({{paramName}}.get(i).toUrlQueryString(String.format(Locale.ROOT, "{{baseName}}[%d]", i)));
                        }
                {{/isArray}}
                {{^isArray}}
                        localVarQueryStringJoiner.add({{paramName}}.toUrlQueryString("{{baseName}}"));
                {{/isArray}}
            {{/isDeepObject}}
            {{^isDeepObject}}
                {{#isExplode}}
                    {{#hasVars}}
                        {{#vars}}
                            {{#isArray}}
                                    localVarQueryParams.addAll(ApiClient.parameterToPairs("multi", "{{baseName}}", {{paramName}}.{{getter}}()));
                            {{/isArray}}
                            {{^isArray}}
                                    localVarQueryParams.addAll(ApiClient.parameterToPair("{{baseName}}", {{paramName}}.{{getter}}()));
                            {{/isArray}}
                        {{/vars}}
                    {{/hasVars}}
                    {{^hasVars}}
                        {{#isModel}}
                                localVarQueryStringJoiner.add({{paramName}}.toUrlQueryString());
                        {{/isModel}}
                        {{^isModel}}
                            {{#collectionFormat}}localVarCollectionQueryParams.addAll(ApiClient.parameterToPairs("{{{collectionFormat}}}", {{/collectionFormat}}{{^collectionFormat}}localVarQueryParams.addAll(ApiClient.parameterToPair({{/collectionFormat}}"{{baseName}}", {{paramName}}));
                        {{/isModel}}
                    {{/hasVars}}
                {{/isExplode}}
                {{^isExplode}}
                    {{#collectionFormat}}localVarCollectionQueryParams.addAll(ApiClient.parameterToPairs("{{{collectionFormat}}}", {{/collectionFormat}}{{^collectionFormat}}localVarQueryParams.addAll(ApiClient.parameterToPair({{/collectionFormat}}"{{baseName}}", {{paramName}}));
                {{/isExplode}}
            {{/isDeepObject}}
        {{/queryParams}}
        {{#headerParams}}if ({{paramName}} != null)
            localVarHeaderParams.put("{{baseName}}", ApiClient.parameterToString({{paramName}}));
        {{/headerParams}}

        {{#formParams}}if ({{paramName}} != null)
            localVarFormParams.put("{{baseName}}", {{paramName}});
        {{/formParams}}

            final String[] localVarAccepts = {
        {{#produces}}"{{{mediaType}}}"{{^-last}}, {{/-last}}{{/produces}}
            };
            final String localVarAccept = ApiClient.selectHeaderAccept(localVarAccepts);

            final String[] localVarContentTypes = {
        {{#consumes}}"{{{mediaType}}}"{{^-last}}, {{/-last}}{{/consumes}}
            };
            final String localVarContentType = ApiClient.selectHeaderContentType(localVarContentTypes);

        {{#returnType}}
                TypeReference<{{{returnType}}}> localVarReturnType = new TypeReference<{{{returnType}}}>() {};
                return apiClient.invokeAPI(
        {{/returnType}}
        {{^returnType}}
                apiClient.invokeAPI(
        {{/returnType}}
            localVarPath,
            "{{httpMethod}}",
            localVarQueryParams,
            localVarCollectionQueryParams,
            localVarQueryStringJoiner.toString(),
            localVarPostBody,
            localVarHeaderParams,
            localVarFormParams,
            localVarAccept,
            localVarContentType,
        {{#returnType}}localVarReturnType{{/returnType}}{{^returnType}}null{{/returnType}}
            );
            }
    {{/operation}}
        }
{{/operations}}